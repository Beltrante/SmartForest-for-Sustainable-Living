<template>
  <div id="window" class="tree-container">
    <img
      id="1-1"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_1_1"
      @click="doAction('1-1')"
    />
    <img
      id="1-2"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_1_2"
      @click="doAction('1-2')"
    />
    <img
      id="1-3"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_1_3"
      @click="doAction('1-3')"
    />
    <img
      id="1-4"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_1_4"
      @click="doAction('1-4')"
    />
    <img
      id="1-5"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_1_5"
      @click="doAction('1-5')"
    />
    <img
      id="1-6"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_1_6"
      @click="doAction('1-6')"
    />
    <img
      id="2-1"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_2_1"
      @click="doAction('2-1')"
    />
    <img
      id="2-2"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_2_2"
      @click="doAction('2-2')"
    />
    <img
      id="2-3"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_2_3"
      @click="doAction('2-3')"
    />
    <img
      id="2-4"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_2_4"
      @click="doAction('2-4')"
    />
    <img
      id="2-5"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_2_5"
      @click="doAction('2-5')"
    />
    <img
      id="2-6"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_2_6"
      @click="doAction('2-6')"
    />
    <img
      id="3-1"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_3_1"
      @click="doAction('3-1')"
    />
    <img
      id="3-2"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_3_2"
      @click="doAction('3-2')"
    />
    <img
      id="3-3"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_3_3"
      @click="doAction('3-3')"
    />
    <img
      id="3-4"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_3_4"
      @click="doAction('3-4')"
    />
    <img
      id="3-5"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_3_5"
      @click="doAction('3-5')"
    />
    <img
      id="3-6"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_3_6"
      @click="doAction('3-6')"
    />
    <img
      id="4-1"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_4_1"
      @click="doAction('4-1')"
    />
    <img
      id="4-2"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_4_2"
      @click="doAction('4-2')"
    />
    <img
      id="4-3"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_4_3"
      @click="doAction('4-3')"
    />
    <img
      id="4-4"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_4_4"
      @click="doAction('4-4')"
    />
    <img
      id="4-5"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_4_5"
      @click="doAction('4-5')"
    />
    <img
      id="4-6"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_4_6"
      @click="doAction('4-6')"
    />
    <img
      id="5-1"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_5_1"
      @click="doAction('5-1')"
    />
    <img
      id="5-2"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_5_2"
      @click="doAction('5-2')"
    />
    <img
      id="5-3"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_5_3"
      @click="doAction('5-3')"
    />
    <img
      id="5-4"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_5_4"
      @click="doAction('5-4')"
    />
    <img
      id="5-5"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_5_5"
      @click="doAction('5-5')"
    />
    <img
      id="5-6"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_5_6"
      @click="doAction('5-6')"
    />
    <img
      id="6-1"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_6_1"
      @click="doAction('6-1')"
    />
    <img
      id="6-2"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_6_2"
      @click="doAction('6-2')"
    />
    <img
      id="6-3"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_6_3"
      @click="doAction('6-3')"
    />
    <img
      id="6-4"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_6_4"
      @click="doAction('6-4')"
    />
    <img
      id="6-5"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_6_5"
      @click="doAction('6-5')"
    />
    <img
      id="6-6"
      src="../assets/dynamics/trees/empty.png"
      alt=""
      class="tree floating-base pos_6_6"
      @click="doAction('6-6')"
    />
  </div>
</template>

<script>
export default {
  data() {
    return {
      numOfClicks: 0,
      positions: "",
    };
  },
  methods: {
    doAction: async function (id) {
      // if (this.numOfClicks < 2) {
      //   this.positions = this.positions + id + "-";
      //   this.numOfClicks++;
      //   return;
      // }
      // this.positions = this.positions + id;
      // console.log(this.positions);
      // let answer = await $fetch("/api/click", {
      //   method: "post",
      //   body: { id: this.positions },
      // });
      // this.updateTrees(answer)
      // this.positions = "";
      // this.numOfClicks = 0;
    },
    // answer has 2 array of trees: 
    // trees has the new tree position and stats
    // removed has the old trees positions
    // updateTrees: function (answer) {
    //   answer.removed.forEach((tree) => {
    //     let posToSpawn =
    //       "pos" + tree._position._x.toString() + tree._position._y.toString();
    //     document.getElementById(posToSpawn).src =
    //       "/_nuxt/assets/dynamics/trees/empty.png";
    //   });
    //   answer.trees.forEach((tree) => {
    //     let posToSpawn =
    //       "pos" + tree._position._x.toString() + tree._position._y.toString();
    //     let levelToSpawn = "lev" + tree._level.toString();

    //     document.getElementById(posToSpawn).src =
    //       "/_nuxt/assets/dynamics/trees/" + levelToSpawn + ".png";
    //     // document.getElementById(posToSpawn).visibility = 'visible';
    //   });
    // },

    spawnTreeInARandomPos: function () {
      document.getElementById(this.randomPos()).src =
        "/_nuxt/assets/dynamics/trees/lev" + this.randomLevel() + ".png";
    },
    randomLevel: function () {
      var num = Math.floor(Math.random() * 4 + 1);
      if (Math.floor(Math.random() * 4 + 1).toString() == 4) {
        return "empty";
      }
      return num.toString();
    },
    randomLine: function () {
      let line = Math.floor(Math.random() * 6 + 1);
      return line.toString();
    },
    randomCol: function () {
      let pos = Math.floor(Math.random() * 6 + 1);
      return pos.toString();
    },
    randomPos: function () {
      return "pos" + this.randomLine() + this.randomCol();
    },
  },
  mounted() {
    // setInterval(() => {
    //   this.spawnTreeInARandomPos();
    // }, 100000);
  },
};
</script>
<style>
.groupable{
  background: rgb(255,255,255);
background: radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(226,161,255,1) 35%, rgba(255,0,243,0.23153011204481788) 100%);
  border-radius: 25%;
}
.max-exp{
  background: rgb(255,255,255);
background: radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(226,161,255,1) 35%, rgba(255,0,243,0.23153011204481788) 100%);
  border-radius: 25%;
}
.high-exp{
  background: rgb(3,236,8);
  background: radial-gradient(circle, rgba(3,236,8,1) 0%, rgba(0,255,130,1) 35%, rgba(0,255,130,0) 100%);
  border-radius: 25%;
}
.mid-exp{
  background: rgb(236,220,3);
  background: radial-gradient(circle, rgba(236,220,3,1) 0%, rgba(255,194,0,1) 35%, rgba(255,0,0,0) 100%);
  border-radius: 25%;
}
.low-exp{
  background: rgb(236,98,3);
  background: radial-gradient(circle, rgba(236,98,3,1) 0%, rgba(255,0,0,1) 35%, rgba(255,0,0,0) 100%);
  border-radius: 25%;
}
</style>

<style scoped>
.tree-container {
  width: 1080px;
  height: 960px;
  position: absolute;
}

.tree {
  position: absolute;
  height: 100px;
  width: auto;
  z-index: 103;
  display: flex;
  /* filter: brightness(1.2); */
  /* visibility: hidden; */
  /* filter: drop-shadow(2px 0px 1px rgba(34, 34, 34, 0.7));*/
}

.pos_1_1 {
  bottom: 500px;
  left: 100px;
}

.pos_1_2 {
  bottom: 545px;
  left: 180px;
}

.pos_1_3 {
  bottom: 590px;
  left: 260px;
}

.pos_1_4 {
  bottom: 635px;
  left: 340px;
}

.pos_1_5 {
  bottom: 680px;
  left: 420px;
}

.pos_1_6 {
  bottom: 725px;
  left: 490px;
}

.pos_2_1 {
  bottom: 450px;
  left: 180px;
}

.pos_2_2 {
  bottom: 500px;
  left: 260px;
}

.pos_2_3 {
  bottom: 545px;
  left: 340px;
}

.pos_2_4 {
  bottom: 590px;
  left: 420px;
}

.pos_2_5 {
  bottom: 635px;
  left: 490px;
}

.pos_2_6 {
  bottom: 680px;
  left: 570px;
}

.pos_3_1 {
  bottom: 400px;
  left: 260px;
}

.pos_3_2 {
  bottom: 450px;
  left: 340px;
}

.pos_3_3 {
  bottom: 500px;
  left: 420px;
}

.pos_3_4 {
  bottom: 545px;
  left: 490px;
}

.pos_3_5 {
  bottom: 590px;
  left: 570px;
}

.pos_3_6 {
  bottom: 635px;
  left: 650px;
}

.pos_4_1 {
  bottom: 355px;
  left: 340px;
}

.pos_4_2 {
  bottom: 400px;
  left: 420px;
}

.pos_4_3 {
  bottom: 450px;
  left: 490px;
}

.pos_4_4 {
  bottom: 500px;
  left: 570px;
}

.pos_4_5 {
  bottom: 545px;
  left: 650px;
}

.pos_4_6 {
  bottom: 590px;
  left: 730px;
}

.pos_5_1 {
  bottom: 310px;
  left: 420px;
}

.pos_5_2 {
  bottom: 355px;
  left: 490px;
}

.pos_5_3 {
  bottom: 400px;
  left: 570px;
}

.pos_5_4 {
  bottom: 445px;
  left: 650px;
}

.pos_5_5 {
  bottom: 490px;
  left: 730px;
}

.pos_5_6 {
  bottom: 545px;
  left: 810px;
}

.pos_6_1 {
  bottom: 265px; /*-235px*/
  left: 490px; /*+390px */
}

.pos_6_2 {
  bottom: 310px;
  left: 570px;
}

.pos_6_3 {
  bottom: 355px;
  left: 650px;
}

.pos_6_4 {
  bottom: 400px;
  left: 730px;
}

.pos_6_5 {
  bottom: 445px;
  left: 810px;
}

.pos_6_6 {
  bottom: 490px;
  left: 890px;
}

.floating-base {
  animation-name: floating-base;
  animation-duration: 20s;
  animation-iteration-count: infinite;
  animation-timing-function: ease-in-out;
  margin-top: 5px;
}

@keyframes floating-base {
  0% {
    transform: translate(0, 0px);
  }
  50% {
    transform: translate(0, 10px);
  }
  100% {
    transform: translate(0, -0px);
  }
}
</style>
